# LV2 17주차 (23.05.29 ~ 23.06.04)

---

## 23.05.29
### 장바구니 협업 미션 정리
- 페어 미션과정에서 수행한 것들
  - CORS 설정
    - WebMvcConfig 구현
  - Submodule 적용
  - 배포 Shell Script
- 더 해보고 싶은 것들
  - 로그 저장

### 레벨3 기획서 아이디어 정리
- 분야에 상관 없는 메타인지 학습 도우미
  - 우테코에 들어와서 학습을 할 때 메타인지가 정말 중요하다는 것을 몸소 체험했습니다. 
  - 초등학교부터 대학교에 이르기까지 우리는 정말 많은 학습을 해왔어요. 
  - 하지만 정작 메타인지를 통해 의식적으로 내가 학습한 내용을 알고 있는가에 대한 고민은 해본 적이 없는 것 같습니다. 
  - 또한 이를 알아도 혼자서 백지에 내가 학습한 내용들을 적어가면서 메타인지를 수행하기란 쉽지 않죠. 
  - 그래서 이를 의식적으로 도와줄 수 있는 메타인지 학습 도우미 서비스가 있다면 어떨까하는 생각을 해봤습니다. 
  - 메타인지는 어떤 분야의 학습이던 간에 적용될 수 있다는 특수성이 있다고 생각합니다. 
  - 그래서 분야에 상관없이 학습한 내용을 검증할 수 있는 '템플릿'을 제공해서 사용자로 하여금 꾸준하게 메타인지와 학습기록을 남기도록 하는 것이 서비스의 가장 큰 특징입니다. 
  - 또한 기본 메타인지 템플릿을 기반으로 개인별 메타인지 능력 수준에 따른 차등 템플릿을 제공하는 것과 분야별로 두드러지는 특징을 기반으로 세분화된 템플릿을 제공하는 것을 차별점으로 가져가보고자 합니다. 


- 만들고 싶은 서비스 주제는? (예를 들어 "음식과 상품을 빠르게 배달하는 서비스" 와 같이 서비스를 대략적으로 이해할 수 있는 한 문장)

chatGPT를 통해 효율적으로 학습할 수 있는 질문을 생성해주는 서비스



- 만들고 싶은 서비스 기획 목적, 서비스에 대한 설명

이 서비스는 최근 등장한 chatGPT를 이용해 일반인들도 쉽게 사용하여 분야와 키워드에 상관 없이 효과적인 학습을 할 수 있도록 하는데 그 목적을 둡니다. 
사용자가 학습하고자 하는 키워드 혹은 주제에 대한 질문을 입력받습니다. 그 뒤 chatGPT에게 최대한 정확하고 자세한 설명을 얻을 수 있는 질문을 생성하여 사용자에게 제공합니다. 
또한 사용자가 chatGPT에게 얻은 답변을 입력하면 이를 기반으로 해당 내용을 제대로 이해했는지 확인할 수 있는 질문들을 생성합니다. 
이를 통해 사용자가 자율적으로 학습내용에 대해 메타인지를 진행할 수 있도록 도와줍니다. 
현재 chatGPT를 이용해 현대인들의 정보 검색능력은 비약적으로 상승했다고 볼 수 있습니다. 
하지만 생각보다 일반인들은 chatGPT가 엄청 대단하다는 뉴스는 귀가 아프도록 접할 뿐, 이를 어떻게 하면 잘 활용할 수 있는지 어떤 것들을 할 수 있는지에 대해서는 아직 잘 모르는 게 실정입니다. 
또한 chatGPT를 기반으로 사람의 본질적인 능력을 성장시키는데 도움을 주는 서비스는 아직 시장에 존재하지 않습니다. 
따라서 해당 서비스를 통해 일반인들이 chatGPT를 보다 잘 누릴 수 있도록 하여 사회에 전반적인 정보 처리 능력을 함양하는데 그 의의를 두고자 합니다.




- 사용자가 이 서비스를 왜 써야 하나요? (다른 서비스와 비교했을 때, 이 서비스만의 차별점과 경쟁력에 대해서 작성해 주세요.)

위에서도 언급한 내용처럼 chatGPT API를 사용한 여러 챗봇 서비스는 시장에 많이 등장했지만 chatGPT를 어떻게 하면 더 잘 사용할 수 있는지에 대한 서비스는 아직 시장에 존재하지 않습니다.
따라서 chatGPT 자체가 생소한 일반인들을 대상으로 다음과 같은 장점들을 취할 수 있도록 하는것에서 차별점과 경쟁력을 가져가고자 합니다.

사용자가 어떤 방식으로 chatGPT를 사용해야 하는지 파악할 수 있다.
사용자가 어떻게 하면 원하는 키워드나 질문에 대한 답변 결과를 더 정확하게 얻을 수 있는지 알 수 있다.
사용자가 chatGPT로부터 얻은 결과를 어떻게 검증하고 믿어야 하는지 알 수 있다.
사용자가 chatGPT를 통해 분야에 상관없이 자율적인 학습과 메타인지를 할 수 있도록 도움을 받을 수 있다.



## 23.06.01
### 장바구니 협업미션 논의사항 정리
- 서버에 저장되어 있지 않은 id값이 조회, 수정, 삭제 요청되는 경우
  - 서버 내부적으로는 customException인 NotFoundException을 발생시킴
  - 클라이언트에게는 다음과 같이 응답 메세지를 내려준다.
    - httpStatus.NotFound (404) 상태를 내려준다.
    - 예외가 발생한 엔티티 id와 이름을 담아서 내려준다.
- 현재 API 명세에서 points라고 적힌 파라미터가 사용자가 사용한 포인트인지, 아니면 적립된 포인트인지 구분하기 힘든 이름을 갖고 있다.
  - 1. 현재 장바구니에서 얻을 수 있는 포인트 조회
    - points : 현재 장바구니에 담긴 물품을 결제할 때 얻을 수 있는 포인트
    - points => expectedSavePoints 로 변경
  - 2. 주문 조회, 단일 주문 조회
    - points : 주문할 때 적립된 포인트
    - points => usedPoints로 변경
  - 3. 현재 로그인 된 사용자 정보 조회
    - points : 현재 사용자가 보유한 포인트
    - points => currentPoints

- request 기준으로 불러온 orderedItem들이 server에 저장된 cartItem들과 개수가 일치하지 않는 경우
  - request 메세지로 server에 저장되지 않은 CartItem들이 담겨져 온 상황
    - InvalidOrderCheckedException 던져줘야 함

- CartItemNotFoundException : 서버에 존재하지 않는 장바구니 아이템을 조회, 수정, 삭제하는 경우 응답
- OrderNotFoundException : 서버에 존재하지 않는 주문을 조회, 수정, 삭제하는 경우 응답
- ProductNotFoundException : 서버에 존재하지 않는 상품을 조회, 수정, 삭제하는 경우 응답


## 23.06.02
### 리사와의 면담
- 교육 심리
  - 블루 시그넘이라는 심리 관련한 회사가 있다.
    - 리사 지인 개발자가 일하고 계시다고 함.
    - 나중에 관심이 생겨서 물어볼 점이 생기면 연락처 요청을 드려보자.
    - 해당 지인 분은 커뮤니티에서 발표를 하다가 현 스타트업 대표님이 먼저 오퍼를 해주셨다고 함.
    - 여러 커뮤니티에서 활동하는 것이 기회를 가져다 줄 수 있다.
  - 교육과 심리는 거의 분리되어 다뤄지는 도메인이다.
  - 교육쪽에서는 프로그래머스, 패스트캠퍼스, 인프런 등이 있을 것 같다.
    - 프로그래머스는 개발자 대우가 별로라고 함 현재
    - 인프런은 개발 스택이 달라서 힘들 수 있음
- 레벨2에서 느끼는 괴리
  - 다들 이 시기쯤에서 비슷하게들 느낀다.
  - 공부를 한다는 개념이 아니라 미션을 하기 위해 찾아보고 해결해서 넘기는 느낌이 들어서 그럴 수 있다.
  - 레벨3에서 정말 프로젝트를 하는데 필요한 기술을 공부하고 적용하면서 비약적인 성장을 하게 될 것.
- 지금해야할 고민은 도메인을 어떤 것을 선택할 지 보다 기본적인 개발 실력을 키워야할 때이다!
  - 처음부터 원하는 도메인에서 일하지 않아도 된다.
  - 내가 원하는 것이 뭔지 잘 정리해보자.
    - 실질적으로 학생에게 강의를 하는 강사 일을 하고 싶은지?
    - 아니면 개발자로서 커리어는 유지하고 싶은데 일하고 싶은 도메인이 교육, 심리 쪽인지?
- 결국 관건은 기본적인 개발 실력을 최대한 키우고 첫 회사는 내가 최대한 성장할 수 있는 환경인지를 1순위로 고려해보자.
- 개발자로서 1인분을 하게 되었을 때 원하는 도메인으로의 이직을 준비해도 늦지 않다.
- 리쿠르팅 데이에 오는 기업들은 기본적인 1차 필터링이 거쳐진 기업들이 대부분.
  - 최대한 내가 성장할 수 있는 환경인지 확인하고 가자!
- 우테코 네트워크 최대한 활용하기
  - 나중에 관심있는 회사나 도메인이 생겼을 때 용기내서 글 올려보기
    - ~~한 도메인 or 회사의 관계 개발자가 계시면 or 알고 계신 분이 있다면 혹시 연락주실 수 있는지... 커피챗하며 여쭤보고 싶은 부분들이 있다... 
  - 커피챗이라는 어플도 있어서 여기에서 구인해봐도 좋다.

## 23.06.04
### 장바구니 협업 미션 리뷰
- Transactional 옵션 중에서도 readOnly 옵션에 대해서...
  - Transactional(readOnly=true) 옵션이 걸린 경우 DB 벤더에 따라 Create, Update, Delete 연산에 대해서 오류를 발생시킬 수도 있고 발생시키지 않을 수도 있다.
  - 따라서 해당 옵션을 줄 때 어떤 DB 벤더사와 드라이버를 사용하는지, 사용하는 버전에서 이러한 읽기 전용 트랜잭션을 제공하는지 확인해보는 작업이 반드시 필요하다. 
  - H2 DB의 경우 따로 읽기 전용 트랜잭션을 제공하지 않는다. (https://ssisksl77.gitlab.io/code-that-talks/220526-spring-transactional-readonly.html)
    - 내부 H2 연결을 담당하는 JDBCConnection을 살펴보면 readOnly 옵션이 ignore된다고 나와있다.
    - 결과적으로 H2 DB를 사용하는 경우 스프링에서 @Transactional(readOnly = True)를 해도 Create, Update, Delete 연산이 예외처리 되지 않고 잘 수행된다.
- 그러면 읽기 전용 트랜잭션을 제공할 때 사용하면 어떤 이점을 얻을 수 있을까? (https://algopoolja.tistory.com/104)
  - 읽기 전용 트랜잭션을 제공하는 벤더사 DB를 사용하는 경우 의도치 않은 CUD 작업에 대한 예외처리를 해줄 수 있다.
  - JPA를 사용하게 되면 데이터 변경을 감지하고 이를 반영하기 위한 더티 체킹, 플러시 호출, 스냅샷 생성등의 작업을 하지 않음으로써 성능적인 이점을 가져갈 수 있다.
  - DB가 master-slave 구조를 가지는 Replication 구성이 되어 있는 경우 read는 slave DB로, Create, Update, Delete는 master DB로 요청되게 설정하여 트래픽을 분산시킬 수 있다.
  - DB 벤더사에 따른 read 쿼리 성능 최적화 + 쓰기 잠금
  - 동료 개발자에게 해당 메서드가 읽기 작업만을 수행한다는 것을 바로 알려줄 수 있다.
- Transactional은 service와 dao 중 어디에 작성이되어야 하는가? (한 곳?, 아니면 두 곳 모두?)
- 
  - https://mangkyu.tistory.com/169
  - https://mangkyu.tistory.com/170
  - https://jangjjolkit.tistory.com/62


- 서비스 테스트 작성
  - orderService
  - cartItemsService
  - productService
- mock, springBootTest, jdbcTest, webMvcTest 사용하는 목적을 각각 정리
- 현재 integration테스트와 인수 테스트의 차이가 잘 안느껴지는데 어떤 차이가 있는지 정리해보자.

- service 계층 테스트를 작성하면서 느낀 점
  - 개인적으로 outside-In 방식으로 테스트가 진행될 때는 mock 방식을 활용해서 테스트코드를 작성해야 한다고 생각한다.
  - 하지만 이후 mocking한 객체의 실제 객체가 구현되었다면 테스트에서도 이를 실제 구현 객체로 바꿔줘야한다고 생각하는 입장이다.
  - 서비스 계층 테스트를 진행할 때는 controller나 web 요청과 관련된 기능들이 전혀 필요하지 않다.
  - 그런데 영속화 계층에 해당하는 실제 객체들이 필요하게 되었는데 이를 springBootTest로 모든 bean을 등록해서 사용하는 것이 좋은지, 
  - 아니면 직접 service에서 필요한 dao에 대한 의존성을 전부 주입해서 사용해주는 것이 맞는지 판단하기 어려웠다.
  - 









## 23.06.05
### 레벨 인터뷰 돌아보기
- 레벨1 인터뷰에서 작성했던 피드백 시트를 각자 읽어본다.
- 





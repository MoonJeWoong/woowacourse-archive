# 레벨 1 - 7주차 (23.03.20 ~ 23.03.26)

---

# 23.03.20

- 면담 설문 작성
- 면담을 통해 논의하고 싶은 내용
  - 레벨 1을 지나오면서 굉장히 많은 것들을 접하고 배웠던 것 같습니다. 
  - 자바 그 자체에 대해서도 많이 배웠지만 여러 디자인 패턴에 대해서도 배우고 비개발적인 요소에 대해서도 생각할 수 있었던 시간이었습니다. 
  - 다만 한가지 마음에 걸리는 게 있습니다. 이래저래 미션에 치이다 보니 이론적으로 머리에 쌓이는 지식이 많다는 생각은 들지 않았던 것 같아요. 
  - 물론 이런 부분을 방지하기 위해 필독서가 있다고 생각해요. 하지만 미션을 진행하다보면 책을 읽을 엄두를 못내고 있는게 현실인 것 같습니다.  
  - 너무 미션에만 집중하게 되는 것이 부정적인 요소로 작용하는 걸까요? 
  - 머리로는 독서를 통한 이론적 학습과 미션을 통한 실습이 병행되어야 한다는 것을 알고 있지만서도 항상 일정에 치이다 보면 이론적 학습이 뒤로 밀리는 경우가 일상 다반사입니다. 
  - 과제와 학습 사이의 밸런스 문제를 의식적으로 해결해보고 싶은데 어떤 방식으로 하면 좋을지 논의하고 싶습니다.

- 최근 자신이 긍정적으로 보는 시도와 변화
  - 밀린 미션을 처리하고난 후 약간의 시간이 날 때 어떻게든 책을 펴보려고 했다.
  - 미션에 부족한 부분이 보여도 일단 데드라인에 맞춰서 제출한다.

- 이번 면담을 통해 어떤 변화가 생기기를 원하는지
  - 데드라인이 있는 과업과 자기주도적인 학습 사이에서 밸런스를 맞추고 지속 가능한 학습을 진행하고 싶습니다.

추가사항
- 레벨 1이 거의 끝나가는데 아직 여기서 하고 가야할 게 너무 많은 것 같다. 그럼에도 앞에 해나가야 할 것들도 많다. 이런 것들을 어떻게 해나가야 할까.



### 블랙잭 미션 2차 피드백 정리
- 상태 패턴을 적용한다고 무조건 좋은 구조가 되는 것은 아니다.
  - 블랙잭 미션의 요구사항을 분석하면서 블랙잭의 도메인을 상태로써 추상화해 인지하고 있고 그에 맞게 객체를 모델링해 적용했다고 한다면 문제가 없다.
  - 반대로 블랙잭 도메인을 바라보는 시선이 정의한 상태들과 맞지 않는다면 코드를 이해하기 힘들어진다.
  - 즉 객체의 모델링 이전에 디자인 패턴이 선행하면 안된다.
  - 블랙잭 도메인을 상태 패턴을 적용하기 적합한 구조로 생각하고 있는지 고민해보자.

- getter 사용에 대하여
  - getter를 사용하지 않을 수 있는 상황에서 사용하게 되면 객체지향으로 얻을 수 있는 이점을 취할 수 없기 때문에 getter 사용을 지양하는 것이다.
  - 필수 불가결한 getter만 존재한다면 문제가 없지 않을까

-  unwarp을 컨트롤러에서 수행해야하는 이유가 있나요? View는 Domain을 알아선 안된다고 생각하시나요?
  - view에서 도메인을 알게 되면 외부로 드러나지 말아야 할 정보들이 같이 노출되는 위험이 발생하게 된다.
  - 예를 들어 회원 아이디, 비밀번호, 나이, 이름 등의 신상정보가 있는 user 도메인을 그대로 넘긴다면 개발자 도구에서 중요 정보를 조회할 수 있다.
  - 이러한 이유때문에 view와 도메인을 분리한다고 생각한다.
  - 이전에는 도메인 로직 단에서 원시타입 상태 값이 이용되어야 하는 경우 값을 포장한 객체에서 내부 값을 꺼내는 것이 아니라 포장한 객체 자체로 사용되어야 한다고 생각했습니다.
  - 예를 들어 게임 참여자의 이름이 필요한 기능을 수행할 때 string 원시타입 값을 사용하는게 아니라 Name 값 객체 자체를 사용해 수행할 수 있어야 한다고 생각했습니다.
  - 위에서 명시한 두 가지 이유로 참여자의 이름 정보를 얻어오기 위한 getter를 열 때 도메인에서 사용하기 위한 Name 값 객체를 반환할 지 view에서 사용하기 위해 String을 반환해야 할 지 고민이 되었습니다.
  - string을 반환하는 getter로 여는 경우 도메인에서 원시타입 값을 이용해 비즈니스 로직을 수행한다는 생각이 들었고 이를 지양하고자 했습니다.
  - 그러다 보니 값 객체를 반환하도록 getter를 열었고 view에서 사용할 때 이를 unwrap 해주는 책임을 어디에선가는 반드시 져야만 했습니다.
  - 원래는 이 책임을 view에서 지도록 해서 view가 도메인에 의존하도록 했습니다. 하지만 위에서 언급한 대로 view가 도메인에 의존하는 경우에도 문제점은 존재했습니다.
  - 그리고 이 책임을 view, domain 모두 지지 않도록 하려고 하다보니 결국 이렇게 컨트롤러가 질 수 밖에 없었습니다.
  - 다만 코즈가 리뷰해주신 대로 unwrapCard 메소드에서 ,로 join 하는 것은 컨트롤러가 뷰의 책임을 침범한 것이라는 데 동의합니다.
  - unwrapCard 메서드의 반환 타입을 List<String>로 수정했습니다.

- 이번 리팩토링을 진행하면서 dto의 사용을 고려하게 되었습니다.
  - controller에서 값 객체를 unwrap 해주는 책임이 이전 미션에 비해 증가했습니다.
  - 또한 여러 값을 한 번에 view에 전달해야 하는 경우가 발생했기에 이를 map 자료구조를 사용해 전달하는 방식을 사용했습니다.
  - 여기에서 여러 값 객체를 unwrap 하여 한 번에 view에게 전달할 수 있는 역할을 수행할 객체의 필요성을 느꼈습니다.
  - 이러한 사고과정을 통해 dto를 도입해보기로 결정했습니다.

- domain 객체 외부에서 출력을 위한 용도로 내부 상태 값을 필요로 하는 경우 Dto를 만들어 반환할 수 있도록 리팩토링 했습니다.

- 인터페이스에 대고 프로그래밍하기
  - LinkedHashMap 구현체를 객체로 생성해서 사용할 때 변수 타입을 HashMap 구현체로 선언하는 것이 아니라 인터페이스 클래스인 Map으로 선언해줘야 한다.
  - 추상화된 인터페이스 타입이 아닌 실제 구현을 제공하는 타입을 이용해서 프로그래밍하는 경우 구현에 변화가 생겼을 떄 변화의 영향력이 이곳 저곳으로 퍼져 나간다.

- BlackjackGame 혹은 Map<Name, Integer> 를 감싸는 객체에서 딜러의 상금을 계산해줄 수 있을것 같아요.
  현재는 딜러의 상금을 계산하는 비지니스 로직을 Controller에서 수행하고 있는 것 같습니다

- user에서 status를 통해 최종 결과에 따른 profit 반환 메서드 구현
  - players에서 이름을 매개변수로 profitRatio 반환하도록 구현
  - betting 관련 기능 삭제
- 게임 결과를 계산해서 이름 별 수익금을 저장하는 GameResult
  - players로부터 dto를 받아와 이름과 베팅 금액을 받아서 초기화
  - 나중에 게임이 다 진행되면 딜러와 플레이어를 받아서 승패 각각 판단
  - 기존 저장되어 있던 베팅 금액에 승패 결과에 따라 계산해서 다시 저장
  - getGameResultDto메서드 만들어서 name과 상금 결과 담아서 반환

### 솔라의 데일리 미팅 중 느낀 점
- 태스크를 하며 추가되는 사항들을 인지를 못해서 일장 추산이 안되는 구나
- 늘어나는 건 오케이 좋은데 그걸 늘어난 거라고 인정하고 일정 조정을 해야되는데 그걸 못한다.


































